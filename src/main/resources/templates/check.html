<!--<h1>map</h1>-->

<!DOCTYPE html>
<!--<html xmlns:th="http://www.springframework.org/schema/mvc">-->
<html xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html{width: 100%;height: 100%;margin:0;font-family:"微软雅黑";font-size:14px;}
        #container{
            position: absolute;
            margin-top:0px;
            width: 100%;
            height: 100%;
            top: 0px;
            /*border: 1px solid gray;*/
            overflow:hidden;
        }

        /*#searchResultPanel{width: 200px;}*/
    </style>
    <!--<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&amp;ak=VbpWh7Ci96yQPLcTEQ0BFsjDzN8rwqGC;"></script>-->
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&amp;ak=NkMIX99EyeqCnDFTYFm3h1a9WDQXZYWx"></script>

    <script src="../static/assets/js/jquery-1.10.2.min.js" th:src="@{/assets/js/jquery-1.10.2.min.js}"></script>
    <script src="../static/assets/js/bootstrap.min.js" th:src="@{/assets/js/bootstrap.min.js}"></script>
    <script src="../static/assets/js/jquery.messager.js" th:src="@{/assets/js/jquery.messager.js}"></script>

    <script th:src="@{/js/info-window1.js}"></script>

    <title>设备地图查看</title>
</head>
<body>
<div id="container"></div>
<!--设备部署地址：<input id="text_" type="text" value="武汉湖北大学" style="margin-right:100px;" />-->
<!--设备地址(经纬度)：<input id="result_" type="text" />-->
<!--<input id="query_" type="button" value="注册" />-->
<!--<input id="query_" type="button" value="查询" onclick="searchByStationName();" />-->
</body>
</html>

<!--//js引用-->
<!--<script type="text/javascript" >-->

    <!--var markers = [];-->
<!--//   var data_info = [[],[]];-->
<!--//     data_info = [[116.417854,39.921988,"地址：北京市东城区王府井大街88号乐天银泰百货八层"],-->
<!--//            [116.406605,39.921585,"地址：北京市东城区东华门大街"],-->
<!--//            [116.412222,39.912345,"地址：北京市东城区正义路甲5号"]-->
<!--//        ];-->

    <!--$(function() {-->

        <!--getData();-->
        <!--//initMap();-->

    <!--});-->

    <!--//1.通过立即执行函数获取markers的坐标集合-->

    <!--//2.初始化地图-->

    <!--//3.清空地图上之前标记的点-->

    <!--//4.将得到的markers坐标集合标记出来-->

    <!--//5.清空markers坐标集合-->


<!--//获取地址信息-->
    <!--function getData() {-->
        <!--$.ajax({-->
            <!--type : "POST",-->
            <!--url : "/device/list",-->
            <!--data : {-->
                <!--"deviceOwner" : "亿维自动化"-->
            <!--},-->
            <!--dataType : "json",-->
            <!--success : function(data) {-->

                <!--if(data.result != null){-->



                    <!--$.each(data.result,function (index,device) {-->
<!--//                        var a1 = device.deviceLng;-->
<!--//                        var a2 = device.deviceLat;-->
<!--//                        var a3 = device.deviceAddress;-->
<!--//                        var a4 = device.deviceType;-->
<!--//                        var a5 = device.deviceStatus;-->

                        <!--markers[index] = {position:{-->
                                                    <!--lng:device.deviceLng,-->
                                                    <!--lat:device.deviceLat,-->
                                                    <!--add:device.deviceAddress,-->
                                                    <!--type:device.deviceType,-->
                                                    <!--status:device.deviceStatus-->
                                                    <!--}-->
                                        <!--};-->

                    <!--});-->

                    <!--//查询结果提示-->
<!--//                    if(markers.length == 0){-->
<!--//                        alert("未检测到您已注册的设备！");-->
<!--//                    }else{-->
<!--//                        alert("检测到您已注册的设备数量为："+markers.length);-->
<!--//                    }-->


<!--//                    for(var i=0;i != markers.length;i++){-->
<!--//                        data_info[0][0] = markers[i].position.lng;-->
<!--//                        data_info[0][1] = markers[i].position.lat;-->
<!--//                        data_info[0][2] = markers[i].position.add;-->
<!--//                    }-->
                    <!--initMap();//设备初始化只能在这里-->
                <!--}else{-->
                    <!--alert("退出失败，请重试！");-->
                <!--}-->

            <!--}-->
        <!--});-->

    <!--}-->

    <!--//初始化地图-->
    <!--function initMap() {-->
        <!--createMap();//创建地图-->
        <!--//addMapOverlay;//向地图添加覆盖物-->

    <!--}-->

    <!--function createMap() {-->
        <!--function G(id) {-->
            <!--return document.getElementById(id);-->
        <!--}-->

        <!--var map = new BMap.Map("container");-->
        <!--map.centerAndZoom("武汉",12);                   // 初始化地图,设置城市和地图级别。-->

        <!--map.enableScrollWheelZoom();    //启用滚轮放大缩小，默认禁用-->
        <!--map.enableContinuousZoom();    //启用地图惯性拖拽，默认禁用-->

        <!--map.addControl(new BMap.NavigationControl());  //添加默认缩放平移控件-->
        <!--// map.addControl(new BMap.OverviewMapControl()); //添加默认缩略地图控件-->
        <!--// map.addControl(new BMap.OverviewMapControl({ isOpen: true, anchor: BMAP_ANCHOR_BOTTOM_RIGHT }));   //右下角，打开-->

        <!--var localSearch = new BMap.LocalSearch(map);-->
        <!--localSearch.enableAutoViewport(); //允许自动调节窗体大小-->

        <!--var opts = {-->
            <!--width : 250,     // 信息窗口宽度-->
            <!--height: 180,     // 信息窗口高度-->
            <!--title : "设备基本信息" , // 信息窗口标题-->
            <!--enableMessage:true//设置允许信息窗发送短息-->
        <!--};-->

        <!--for(var i=0;i != markers.length;i++){-->
            <!--var point = new BMap.Point(markers[i].position.lng,markers[i].position.lat);-->

            <!--var marker = new BMap.Marker(point);  // 创建标注-->

<!--//            var content = "<br/>型号："+ markers[i].position.type +-->
<!--//                         //"<p style='color: green'>状态：在线</p>"+-->
<!--//                         "<br/>状态："+ markers[i].position.status +-->
<!--//                         "<br/>地址："+markers[i].position.add;-->


<!--//            "<p style='color: green'>状态：在线</p>"+-->

<!--//            var content = "<br/>型号："+markers[i].position.type+-->
<!--//                    " <p style='color: green'>状态：在线</p>" +-->
<!--//                    "地址：" + markers[i].position.add;-->

 <!--//           map.addOverlay(marker);               // 将标注添加到地图中-->


           <!--// addClickHandler(content,marker);-->


            <!--//测试代码-->

            <!--var content = "<div>"+-->
                          <!--"<br/>型号："+markers[i].position.type+-->
                          <!--//" <p style='color: green'>状态：在线</p>" +-->
                          <!--"<br/>状态："+ markers[i].position.status +-->
                          <!--"<br/>地址：" + markers[i].position.add +-->
                          <!--"</div>";-->

            <!--//var infoWindow = new BMap.InfoWindow(content);  // 创建信息窗口对象-->
            <!--map.addOverlay(marker);               // 将标注添加到地图中-->
            <!--marker.addEventListener("click",function (e) {-->
                <!--var p = e.target;-->
                <!--var point = new BMap.Point(p.getPosition().lng, p.getPosition().lat);-->
                <!--var infoWindow = new BMap.InfoWindow(content,opts);  // 创建信息窗口对象-->
                <!--map.openInfoWindow(infoWindow,point); //开启信息窗口-->

            <!--});-->

        <!--}-->

<!--//        function addClickHandler(content,marker){-->
<!--//            marker.addEventListener("click",function(e){-->
<!--//                openInfo(content,e)}-->
<!--//            );-->
<!--//        }-->
<!--//        function openInfo(content,e){-->
<!--//            var p = e.target;-->
<!--//            var point = new BMap.Point(p.getPosition().lng, p.getPosition().lat);-->
<!--//            var infoWindow = new BMap.InfoWindow(content,opts);  // 创建信息窗口对象-->
<!--//            map.openInfoWindow(infoWindow,point); //开启信息窗口-->
<!--//        }-->

    <!--}-->


<!--</script>-->



