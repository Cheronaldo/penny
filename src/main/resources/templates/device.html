<!--<h1>map</h1>-->

<!DOCTYPE html>
<!--<html xmlns:th="http://www.springframework.org/schema/mvc">-->
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html{width: 100%;height: 100%;margin:0;font-family:"微软雅黑";font-size:14px;}
        #container{
            position: absolute;
            margin-top:120px;
            width: 100%;
            height: 100%;
            top: 16px;
            border: 1px solid gray;
            overflow:hidden;
        }
        #r-sn{
            margin-top:10px;
            margin-left: 10px;
        }
        #snCode{
            width: 220px;
        }
        #r-result{width:100%;
            margin-top:5px;
            margin-left: 8px;
        }
        #suggestId{
            width: 220px;
        }
        #r-jiaoyan{
            margin-top:5px;
            margin-left: 8px;
        }
        #jiaoyan{
            width: 220px;
        }
        #xcType{
            width: 142px;
        }
        #r-tijiao{
            margin-top:8px;
            margin-left: 8px;
        }
        #modify_{
            margin-left: 35px;
        }
        #cancel_{
            margin-left: 35px;
        }
        /*#searchResultPanel{width: 200px;}*/
    </style>
    <!--<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&amp;ak=VbpWh7Ci96yQPLcTEQ0BFsjDzN8rwqGC;"></script>-->
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&amp;ak=NkMIX99EyeqCnDFTYFm3h1a9WDQXZYWx"></script>

    <script src="../static/assets/js/jquery-1.10.2.min.js" th:src="@{/assets/js/jquery-1.10.2.min.js}"></script>
    <script src="../static/assets/js/bootstrap.min.js" th:src="@{/assets/js/bootstrap.min.js}"></script>
    <script src="../static/assets/js/jquery.messager.js" th:src="@{/assets/js/jquery.messager.js}"></script>

    <script src="../static/js/register.js" th:src="@{/js/register.js}"></script>


    <title>根据地址查询经纬度</title>
</head>
<body>
<div id="container">
</div>
<div id="r-sn">设备S/N码：&nbsp;&nbsp; <input id="snCode" type="text"  value="" style="margin-right:100px;" />
</div>
<div id="r-result">设备部署地址：<input id="suggestId" type="text"   value="" style="margin-right:100px;" />
                   现场名称：<input id="xcName" type="text"  value="-车间搅拌生产线1" style="margin-right:100px;" />
</div>
<div id="r-jiaoyan">校&nbsp;&nbsp;&nbsp;验&nbsp;&nbsp;&nbsp;码：&nbsp;&nbsp;&nbsp;<input id="jiaoyan" type="text"  value="" style="margin-right:100px;" />
                    &nbsp;现场类型：<select id="xcType" type="text"  value="" style="margin-right:100px;" >

                                         <option value="饲料生产">饲料生产</option>
                                         <option value="环境监测">环境监测</option>

                                   </select>
</div>
<div id="r-tijiao">
    <button id="query_" disabled = "disabled" type="button">设备注册</button>
    <button id="modify_" disabled = "disabled" type="button">设备修改</button>
    <button id="cancel_" disabled = "disabled" type="button">设备注销</button>
</div>
<div id="searchResultPanel" style="border:10px solid #C0C0C0;width:150px;height:auto; display:none;">

</div>
<!--<input id="query_" type="button" value="查询" onclick="searchByStationName();" />-->
</body>
</html>
<!--<script type="text/javascript">-->
    <!--// 百度地图API功能-->
    <!--function G(id) {-->
        <!--return document.getElementById(id);-->
    <!--}-->

    <!--var map = new BMap.Map("container");-->
    <!--map.centerAndZoom("武汉",12);                   // 初始化地图,设置城市和地图级别。-->

    <!--map.enableScrollWheelZoom();    //启用滚轮放大缩小，默认禁用-->
    <!--map.enableContinuousZoom();    //启用地图惯性拖拽，默认禁用-->

    <!--map.addControl(new BMap.NavigationControl());  //添加默认缩放平移控件-->
    <!--// map.addControl(new BMap.OverviewMapControl()); //添加默认缩略地图控件-->
    <!--// map.addControl(new BMap.OverviewMapControl({ isOpen: true, anchor: BMAP_ANCHOR_BOTTOM_RIGHT }));   //右下角，打开-->

    <!--var localSearch = new BMap.LocalSearch(map);-->
    <!--localSearch.enableAutoViewport(); //允许自动调节窗体大小-->
    <!--//以上部分代码已经测试通过-->

    <!--//以下添加代码-->

    <!--var ac = new BMap.Autocomplete(    //建立一个自动完成的对象-->
        <!--{"input" : "suggestId"-->
            <!--,"location" : map-->
        <!--});-->

    <!--ac.addEventListener("onhighlight", function(e) {  //鼠标放在下拉列表上的事件-->

        <!--$("#query_").attr('disabled',true);-->

        <!--var str = "";-->
        <!--var _value = e.fromitem.value;-->
        <!--var value = "";-->
        <!--if (e.fromitem.index > -1) {-->
            <!--value = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;-->
        <!--}-->
        <!--str = "FromItem<br />index = " + e.fromitem.index + "<br />value = " + value;-->

        <!--value = "";-->
        <!--if (e.toitem.index > -1) {-->
            <!--_value = e.toitem.value;-->
            <!--value = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;-->
        <!--}-->
        <!--str += "<br />ToItem<br />index = " + e.toitem.index + "<br />value = " + value;-->
        <!--G("searchResultPanel").innerHTML = str;-->
    <!--});-->

    <!--var myValue;-->
    <!--ac.addEventListener("onconfirm", function(e) {    //鼠标点击下拉列表后的事件-->
        <!--var _value = e.item.value;-->
        <!--myValue = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;-->
        <!--G("searchResultPanel").innerHTML ="onconfirm<br />index = " + e.item.index + "<br />myValue = " + myValue;-->

        <!--setPlace();-->
    <!--});-->

    <!--function setPlace(){-->

        <!--$("#query_").attr('disabled',false);-->

        <!--map.clearOverlays();    //清除地图上所有覆盖物-->
        <!--function myFun(){-->
            <!--var pp = local.getResults().getPoi(0).point;    //获取第一个智能搜索的结果-->
            <!--map.centerAndZoom(pp, 18);-->
            <!--map.addOverlay(new BMap.Marker(pp));    //添加标注-->
        <!--}-->
        <!--var local = new BMap.LocalSearch(map, { //智能搜索-->
            <!--onSearchComplete: myFun-->
        <!--});-->
        <!--local.search(myValue);-->
    <!--}-->

    <!--function setDisabled() {-->

        <!--$("#query_").attr('disabled',true);-->
    <!--}-->

    <!--//以上为添加代码-->

    <!--// 地址输入框id 改为 suggestId-->

    <!--$(function() {-->

        <!--$("#query_").click(function (e) {-->

            <!--map.clearOverlays();//清空原来的标注-->
            <!--var keyword = document.getElementById("suggestId").value;-->
            <!--localSearch.setSearchCompleteCallback(function (searchResult) {-->
                <!--var poi = searchResult.getPoi(0);-->
                <!--//document.getElementById("result_").value = poi.point.lng + "," + poi.point.lat; //获取经度和纬度，将结果显示在文本框中-->
                <!--map.centerAndZoom(poi.point, 13);-->

                <!--var point = new BMap.Point(poi.point.lng, poi.point.lat);-->
<!--//                var marker = new BMap.Marker(point);  // 创建标注，为要查询的地址对应的经纬度-->
<!--//                map.addOverlay(marker);-->

                <!--var url = "http://image.tupian114.com/20140419/09274112.png";-->
                <!--//var url= "http://lbsyun.baidu.com/jsdemo/img/fox.gif";-->
                <!--var myIcon = new BMap.Icon(url, new BMap.Size(40,30));-->
                <!--var marker = new BMap.Marker(point,{icon:myIcon});  // 创建标注-->
                <!--map.addOverlay(marker);-->



<!--//显示经纬度信息-->
                <!--var opts = {-->
                    <!--width:100,-->
                    <!--height:120,-->
                    <!--title:"设备信息",-->
                <!--};-->

                <!--var content = "地址："+document.getElementById("suggestId").value + "<br/><br/>经度：" + poi.point.lng + "<br/>纬度：" + poi.point.lat;-->
                <!--//var infoWindow = new BMap.InfoWindow("<p style='font-size:14px;'>" + content + "</p>");-->
                <!--var infoWindow = new BMap.InfoWindow(content,opts);-->
                <!--marker.addEventListener("click", function () { map.openInfoWindow(infoWindow,point); });-->

                <!--//将地址 及 经纬度 下发-->
                <!--var deviceAddress = keyword;-->
                <!--var deviceLng = poi.point.lng;-->
                <!--var deviceLat = poi.point.lat;-->

                <!--$.ajax({-->
                    <!--type : "POST",-->
                    <!--url : "/device/register",-->
                    <!--data : {-->
                        <!--//"s123" :     $("#check").html(),-->
                        <!--"deviceAddress" : deviceAddress,-->
                        <!--"deviceLng" : deviceLng,-->
                        <!--"deviceLat": deviceLat-->
                    <!--},-->
                    <!--dataType : "json",-->
                    <!--success : function(data) {-->
                        <!--if (data.result == "0") {-->
                            <!--alert('设备注册成功！');-->
                            <!--$("#query_").attr('disabled',true);//避免重复注册-->
                            <!--//window.location.href ="/index?userName="+$("#userName").val();-->
                            <!--&lt;!&ndash; 传值成功 如何到index.html中接收？ &ndash;&gt;-->
                        <!--} else {-->
                            <!--alert("提示",'设备注册失败！');-->
                        <!--}-->
                    <!--}-->
                <!--});-->

            <!--});-->
            <!--localSearch.search(keyword);-->

        <!--});-->

    <!--});-->

<!--</script>-->
